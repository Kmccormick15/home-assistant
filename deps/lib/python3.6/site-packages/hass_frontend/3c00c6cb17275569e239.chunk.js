(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{143:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return loadCustomPanel});var _common_dom_load_resource_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(82);const JS_CACHE={};function loadCustomPanel(panelConfig){if(panelConfig.html_url){const toLoad=[__webpack_require__.e(45).then(__webpack_require__.bind(null,255))];if(!panelConfig.embed_iframe){toLoad.push(Promise.all([__webpack_require__.e(63),__webpack_require__.e(46)]).then(__webpack_require__.bind(null,139)))}return Promise.all(toLoad).then(([{importHrefPromise}])=>importHrefPromise(panelConfig.html_url))}if(panelConfig.js_url){if(!(panelConfig.js_url in JS_CACHE)){JS_CACHE[panelConfig.js_url]=Object(_common_dom_load_resource_js__WEBPACK_IMPORTED_MODULE_0__.b)(panelConfig.js_url)}return JS_CACHE[panelConfig.js_url]}if(panelConfig.module_url){return Object(_common_dom_load_resource_js__WEBPACK_IMPORTED_MODULE_0__.c)(panelConfig.module_url)}return Promise.reject("No valid url found in panel config.")}},144:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return createCustomPanelElement});function createCustomPanelElement(panelConfig){const tagName="html_url"in panelConfig?`ha-panel-${panelConfig.name}`:panelConfig.name;return document.createElement(tagName)}},145:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return setCustomPanelProperties});function setCustomPanelProperties(root,properties){if("setProperties"in root){root.setProperties(properties)}else{Object.keys(properties).forEach(key=>{root[key]=properties[key]})}}},634:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _polymer_polymer_polymer_element_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_mixins_events_mixin_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),_mixins_navigate_mixin_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(81),_util_custom_panel_load_custom_panel_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(143),_util_custom_panel_create_custom_panel_element_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(144),_util_custom_panel_set_custom_panel_properties_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(145);class HaPanelCustom extends Object(_mixins_navigate_mixin_js__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_mixins_events_mixin_js__WEBPACK_IMPORTED_MODULE_1__.a)(_polymer_polymer_polymer_element_js__WEBPACK_IMPORTED_MODULE_0__.a)){static get properties(){return{hass:Object,narrow:Boolean,showMenu:Boolean,route:Object,panel:{type:Object,observer:"_panelChanged"}}}static get observers(){return["_dataChanged(hass, narrow, showMenu, route)"]}constructor(){super();this._setProperties=null}_panelChanged(panel){delete window.customPanel;this._setProperties=null;while(this.lastChild){this.remove(this.lastChild)}const config=panel.config._panel_custom,tempA=document.createElement("a");tempA.href=config.html_url||config.js_url||config.module_url;if(!config.trust_external&&!["localhost","127.0.0.1",location.hostname].includes(tempA.hostname)){if(!confirm(`Do you trust the external panel "${config.name}" at "${tempA.href}"?

It will have access to all data in Home Assistant.

(Check docs for the panel_custom component to hide this message)`)){return}}if(!config.embed_iframe){Object(_util_custom_panel_load_custom_panel_js__WEBPACK_IMPORTED_MODULE_3__.a)(config).then(()=>{const element=Object(_util_custom_panel_create_custom_panel_element_js__WEBPACK_IMPORTED_MODULE_4__.a)(config);this._setProperties=props=>Object(_util_custom_panel_set_custom_panel_properties_js__WEBPACK_IMPORTED_MODULE_5__.a)(element,props);Object(_util_custom_panel_set_custom_panel_properties_js__WEBPACK_IMPORTED_MODULE_5__.a)(element,{panel,hass:this.hass,narrow:this.narrow,showMenu:this.showMenu,route:this.route});this.appendChild(element)},()=>{alert(`Unable to load custom panel from ${tempA.href}`)});return}window.customPanel=this;this.innerHTML=`
    <style>
      iframe {
        border: 0;
        width: 100%;
        height: 100%;
        display: block;
      }
    </style>
    <iframe></iframe>
    `;const iframeDoc=this.querySelector("iframe").contentWindow.document;iframeDoc.open();iframeDoc.write(`<script src='${window.customPanelJS}'></script>`);iframeDoc.close()}disconnectedCallback(){super.disconnectedCallback();delete window.customPanel}_dataChanged(hass,narrow,showMenu,route){if(!this._setProperties)return;this._setProperties({hass,narrow,showMenu,route})}registerIframe(initialize,setProperties){initialize(this.panel,{hass:this.hass,narrow:this.narrow,showMenu:this.showMenu,route:this.route});this._setProperties=setProperties}}customElements.define("ha-panel-custom",HaPanelCustom)},82:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return loadCSS});__webpack_require__.d(__webpack_exports__,"b",function(){return loadJS});__webpack_require__.d(__webpack_exports__,"c",function(){return loadModule});function _load(tag,url,type){return new Promise(function(resolve,reject){const element=document.createElement(tag);let attr="src",parent="body";element.onload=()=>resolve(url);element.onerror=()=>reject(url);switch(tag){case"script":element.async=!0;if(type){element.type=type}break;case"link":element.type="text/css";element.rel="stylesheet";attr="href";parent="head";}element[attr]=url;document[parent].appendChild(element)})}const loadCSS=url=>_load("link",url),loadJS=url=>_load("script",url),loadModule=url=>_load("script",url,"module")}}]);
//# sourceMappingURL=3c00c6cb17275569e239.chunk.js.map