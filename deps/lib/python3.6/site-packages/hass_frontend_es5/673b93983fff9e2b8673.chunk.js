(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{143:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return loadCustomPanel});var _common_dom_load_resource_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(82),_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=!0){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=!0;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}(),JS_CACHE={};function loadCustomPanel(panelConfig){if(panelConfig.html_url){var toLoad=[__webpack_require__.e(44).then(__webpack_require__.bind(null,254))];if(!panelConfig.embed_iframe){toLoad.push(Promise.all([__webpack_require__.e(62),__webpack_require__.e(45)]).then(__webpack_require__.bind(null,139)))}return Promise.all(toLoad).then(function(_ref){var _ref2=_slicedToArray(_ref,1),importHrefPromise=_ref2[0].importHrefPromise;return importHrefPromise(panelConfig.html_url)})}if(panelConfig.js_url){if(!(panelConfig.js_url in JS_CACHE)){JS_CACHE[panelConfig.js_url]=Object(_common_dom_load_resource_js__WEBPACK_IMPORTED_MODULE_0__.b)(panelConfig.js_url)}return JS_CACHE[panelConfig.js_url]}if(panelConfig.module_url){return Object(_common_dom_load_resource_js__WEBPACK_IMPORTED_MODULE_0__.c)(panelConfig.module_url)}return Promise.reject("No valid url found in panel config.")}},144:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return createCustomPanelElement});function createCustomPanelElement(panelConfig){var tagName="html_url"in panelConfig?"ha-panel-"+panelConfig.name:panelConfig.name;return document.createElement(tagName)}},145:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return setCustomPanelProperties});function setCustomPanelProperties(root,properties){if("setProperties"in root){root.setProperties(properties)}else{Object.keys(properties).forEach(function(key){root[key]=properties[key]})}}},635:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _polymer_polymer_polymer_element_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_mixins_events_mixin_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),_mixins_navigate_mixin_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(81),_util_custom_panel_load_custom_panel_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(143),_util_custom_panel_create_custom_panel_element_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(144),_util_custom_panel_set_custom_panel_properties_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(145),_get=function get(object,property,receiver){if(null===object)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===void 0){var parent=Object.getPrototypeOf(object);if(null===parent){}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===void 0){return}return getter.call(receiver)}},_createClass=function(){function defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&("object"===typeof call||"function"===typeof call)?call:self}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var HaPanelCustom=function(_NavigateMixin){_inherits(HaPanelCustom,_NavigateMixin);_createClass(HaPanelCustom,null,[{key:"properties",get:function(){return{hass:Object,narrow:Boolean,showMenu:Boolean,route:Object,panel:{type:Object,observer:"_panelChanged"}}}},{key:"observers",get:function(){return["_dataChanged(hass, narrow, showMenu, route)"]}}]);function HaPanelCustom(){_classCallCheck(this,HaPanelCustom);var _this=_possibleConstructorReturn(this,(HaPanelCustom.__proto__||Object.getPrototypeOf(HaPanelCustom)).call(this));_this._setProperties=null;return _this}_createClass(HaPanelCustom,[{key:"_panelChanged",value:function(panel){var _this2=this;delete window.customPanel;this._setProperties=null;while(this.lastChild){this.remove(this.lastChild)}var config=panel.config._panel_custom,tempA=document.createElement("a");tempA.href=config.html_url||config.js_url||config.module_url;if(!config.trust_external&&!["localhost","127.0.0.1",location.hostname].includes(tempA.hostname)){if(!confirm("Do you trust the external panel \""+config.name+"\" at \""+tempA.href+"\"?\n\nIt will have access to all data in Home Assistant.\n\n(Check docs for the panel_custom component to hide this message)")){return}}if(!config.embed_iframe){Object(_util_custom_panel_load_custom_panel_js__WEBPACK_IMPORTED_MODULE_3__.a)(config).then(function(){var element=Object(_util_custom_panel_create_custom_panel_element_js__WEBPACK_IMPORTED_MODULE_4__.a)(config);_this2._setProperties=function(props){return Object(_util_custom_panel_set_custom_panel_properties_js__WEBPACK_IMPORTED_MODULE_5__.a)(element,props)};Object(_util_custom_panel_set_custom_panel_properties_js__WEBPACK_IMPORTED_MODULE_5__.a)(element,{panel:panel,hass:_this2.hass,narrow:_this2.narrow,showMenu:_this2.showMenu,route:_this2.route});_this2.appendChild(element)},function(){alert("Unable to load custom panel from "+tempA.href)});return}window.customPanel=this;this.innerHTML="\n    <style>\n      iframe {\n        border: 0;\n        width: 100%;\n        height: 100%;\n        display: block;\n      }\n    </style>\n    <iframe></iframe>\n    ";var iframeDoc=this.querySelector("iframe").contentWindow.document;iframeDoc.open();iframeDoc.write("<script src='"+window.customPanelJS+"'></script>");iframeDoc.close()}},{key:"disconnectedCallback",value:function(){_get(HaPanelCustom.prototype.__proto__||Object.getPrototypeOf(HaPanelCustom.prototype),"disconnectedCallback",this).call(this);delete window.customPanel}},{key:"_dataChanged",value:function(hass,narrow,showMenu,route){if(!this._setProperties)return;this._setProperties({hass:hass,narrow:narrow,showMenu:showMenu,route:route})}},{key:"registerIframe",value:function(initialize,setProperties){initialize(this.panel,{hass:this.hass,narrow:this.narrow,showMenu:this.showMenu,route:this.route});this._setProperties=setProperties}}]);return HaPanelCustom}(Object(_mixins_navigate_mixin_js__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_mixins_events_mixin_js__WEBPACK_IMPORTED_MODULE_1__.a)(_polymer_polymer_polymer_element_js__WEBPACK_IMPORTED_MODULE_0__.a)));customElements.define("ha-panel-custom",HaPanelCustom)},82:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return loadCSS});__webpack_require__.d(__webpack_exports__,"b",function(){return loadJS});__webpack_require__.d(__webpack_exports__,"c",function(){return loadModule});function _load(tag,url,type){return new Promise(function(resolve,reject){var element=document.createElement(tag),attr="src",parent="body";element.onload=function(){return resolve(url)};element.onerror=function(){return reject(url)};switch(tag){case"script":element.async=!0;if(type){element.type=type}break;case"link":element.type="text/css";element.rel="stylesheet";attr="href";parent="head";}element[attr]=url;document[parent].appendChild(element)})}var loadCSS=function(url){return _load("link",url)},loadJS=function(url){return _load("script",url)},loadModule=function(url){return _load("script",url,"module")}}}]);
//# sourceMappingURL=673b93983fff9e2b8673.chunk.js.map